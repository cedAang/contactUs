<template>
    <div class="iframeWindow">
        <!--Spinner on data searching-->
        <div if:true={showSpinner}>
            <lightning-spinner alternative-text="Loading" variant="brand" class="spins"></lightning-spinner>
        </div>
        <div if:true={name} style="padding-left:15px">
            <span class="slds-p-top_medium heading" id="contacts-for-aba" frb-test="contacts-for-aba">
                Contacts for {name}<br>ABA: {abaNumber}
            </span>
        </div>

        <div class="slds-wrap" style="padding-top:10px; padding-bottom:30px; padding-left:15px; padding-right:15px;">
                <div class ="slds-col slds-size_12-of-12">
                    <h2> Find Your Contacts</h2>
                </div>

                <div class="slds-box slds-col slds-size_12-of-12">
                    <p class="slds-text-heading_small">Enter your institution's ABA number and click "GO" for a customized list of Federal Reserve Bank Services support contacts, including your account executive. </p>
                    
                    <!--Error Section-->
                    <div if:true={errorMessage} id="search-by-aba-error" frb-test="search-by-aba-error" class="errorDiv">
                        {errorMessage}
                    </div>

                    <!-- <lightning-layout multiple-rows="true" vertical-align="end">
                        
                        <lightning-layout-item padding="around-small"
                            style="font-size: 14px;font-weight: 700;text-align: right;padding-top: 25px;padding-bottom: 8px;">
                            <div class="slds-form-element">
                                <div class="slds-form-element__control">
                                    <span id="search-by-aba-label" frb-test="search-by-aba-label">Search by ABA</span>
                                </div>
                            </div>
                        </lightning-layout-item>

                        <lightning-layout-item>
                            <div class="slds-form-element">
                                <div class="slds-form-element__control">
                                    <input title="9-digit ABA" id="search-by-aba-input" frb-test="search-by-aba-input"
                                        onchange={handleChangeInput} maxlength="9" name="aba_number" value={abaNumber}
                                        placeholder="Enter 9-digit ABA" type="text">
                                </div>
                            </div>
                        </lightning-layout-item>

                        <lightning-layout-item padding="around-small">
                            <button label="GO!" onclick={handleSearch} id="search-by-aba-go-button"
                                frb-test="search-by-aba-go-button" class="button">GO!</button>
                        </lightning-layout-item>
                        
                    </lightning-layout> -->

                    <div class="slds-form-element">
                        <div class="slds-form-element__control slds-input-has-fixed-addon">
                            <span class="slds-form-element__addon search-label" id="search-by-aba-label" frb-test="search-by-aba-label">Search by ABA</span>
                            <input 
                            title="9-digit ABA" 
                            id="search-by-aba-input" 
                            frb-test="search-by-aba-input"
                            onchange={handleChangeInput} 
                            maxlength="9" 
                            name="aba_number" 
                            value={code} 
                            placeholder="Enter 9-digit ABA" 
                            type="text">
                            <span class="slds-form-element__addon">
                                <button
                                label="GO!" 
                                class="slds-button slds-button_brand" 
                                id="search-by-aba-go-button"
                                frb-test="search-by-aba-go-button" 
                                onclick={handleSearch}>GO!</button>
                            </span>
                        </div>
                    </div>

                </div>
        </div>

        <template if:true={data}> 
            <c-contact-us-search-child number={abaNumber} account={name} categories={data}> </c-contact-us-search-child>
        </template>

    </div>
</template>